<!DOCTYPE html>
<html>
  <head>
    <title>Parcel Sandbox</title>
    <meta charset="UTF-8" />
  </head>

  <body>
    <div id="app"></div>
    <button id="btn">Conectar-se</button>

    <script>
      let btn = document.getElementById("btn");

      let app = document.getElementById("app");

      btn.addEventListener("pointerup", function(event) {
        navigator.bluetooth
          .requestDevice({
            filters: [
              {
                services: [
                  "000018f0-0000-1000-8000-00805f9b34fb",
                  "00002af1-0000-1000-8000-00805f9b34fb"
                ]
              }
            ]
          })
          .then(device => {
            app.innerHTML = `Você está conectado a impressora!`;
          })
          .catch(error => {
            console.log(error);
          });
      });
    </script>
  </body>
</html>
